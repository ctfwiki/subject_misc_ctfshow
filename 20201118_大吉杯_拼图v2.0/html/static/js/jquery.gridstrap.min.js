/*
 *  jquery.gridstrap - v{{ include-version }}
 *  gridstrap.js
 *  Use https://www.npmjs.com/package/jquery.gridstrap for version information, semantically-released.
 *  https://rosspi.github.io/gridstrap.js/
 *
 *  Made by Ross P
 *  Under MIT License
 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";c.__esModule=!0,c.default={DATA_GRIDSTRAP:"gridstrap",DATA_HIDDEN_CELL:"gridstrap-hidden-cell",DATA_VISIBLE_CELL:"gridstrap-visible-cell",DATA_MOUSEDOWN_POSITION_DIFF:"gridstrap-mousedown-position-diff",DATA_MOUSEDOWN_SIZE:"gridstrap-mousedown-size",DATA_CELL_POSITION_AND_SIZE:"gridstrap-position-size",EVENT_DRAGSTART:"dragstart",EVENT_MOUSEDOWN:"mousedown",EVENT_MOUSEOVER:"mouseover",EVENT_MOUSEMOVE:"mousemove",EVENT_MOUSEUP:"mouseup",EVENT_TOUCHSTART:"touchstart",EVENT_TOUCHMOVE:"touchmove",EVENT_TOUCHEND:"touchend",EVENT_RESIZE:"resize",EVENT_CELL_RESIZE:"cellresize",EVENT_CELL_DRAG:"celldrag",EVENT_CELL_REDRAW:"cellredraw",ERROR_MISSING_JQUERY:"Requires jQuery v3.2.1",ERROR_INVALID_ATTACH_ELEMENT:"Cannot attach element that is not a child of gridstrap parent.",ERROR_NONCONTIGUOUS_HTML_UNDEFINED:"nonContiguousCellHtml option cannot be null."},b.exports=c.default},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("./constants"),f=d(e),g=(a("./utils"),a("./handlers")),h=a("./setup"),i=a("./internal"),j=a("./methods");!function(a,b,c){a.Gridstrap=function(d,e){if("undefined"==typeof jQuery||!jQuery.Event||!jQuery.Event.prototype.hasOwnProperty("changedTouches"))throw new Error(f.default.ERROR_MISSING_JQUERY);var k=this;if(k.$el=a(d),k.el=d,k.constants=f.default,k.options=a.extend({},a.Gridstrap.defaultOptions,e),k.$el.data(f.default.DATA_GRIDSTRAP))return void(k.options.debug&&console.log("Gridstrap already initialised for element: "+k.el.nodeName));k.$el.data(f.default.DATA_GRIDSTRAP,k);for(var l=new h.Setup(a,b,c,k.$el,k),m=new i.Internal(l),n=new g.Handlers(l,m),o=new j.Methods(l,m,n),p=Object.getOwnPropertyNames(Object.getPrototypeOf(o)),q=Array.isArray(p),r=0,p=q?p:p[Symbol.iterator]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{if(r=p.next(),r.done)break;s=r.value}var t=s,u=o[t];u instanceof Function&&u!==j.Methods&&(k[t]=u.bind(o))}m.InitOriginalCells(),m.InitEventHandlers(n),k.options.debug&&console.log("Gridstrap initialised for element: "+k.el.nodeName)},a.Gridstrap.defaultOptions={gridCellSelector:">*",hiddenCellClass:"gridstrap-cell-hidden",visibleCellClass:"gridstrap-cell-visible",nonContiguousPlaceholderCellClass:"gridstack-noncontiguous",dragCellClass:"gridstrap-cell-drag",resizeCellClass:"gridstrap-cell-resize",mouseMoveSelector:"body",visibleCellContainerParentSelector:null,visibleCellContainerClass:"gridstrap-container",getHtmlOfSourceCell:function(a){return a[0].outerHTML},dragCellHandleSelector:"*",draggable:!0,rearrangeOnDrag:!0,resizeHandleSelector:null,resizeOnDrag:!0,swapMode:!1,nonContiguousCellHtml:null,autoPadNonContiguousCells:!0,updateCoordinatesOnWindowResize:!0,debug:!1,dragMouseoverThrottle:150,windowResizeDebounce:50,mousemoveDebounce:0},a.fn.gridstrap=function(b){return this.each(function(){new a.Gridstrap(this,b)})}}(jQuery,window,document)},{"./constants":1,"./handlers":3,"./internal":4,"./methods":5,"./setup":6,"./utils":7}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("./constants"),g=d(f),h=a("./utils"),i=function(){function a(b,c){e(this,a),this.setup=b,this.internal=c}return a.prototype.onDragstart=function(a,b,c){c===this.setup.Context&&a.preventDefault()},a.prototype.onTouchStart=function(a,b,c){this.setup.jQuery,this.setup.Options;a.preventDefault(),a.touches.length&&this.onMousedown(h.Utils.ConvertTouchToMouseEvent(a),b,c)},a.prototype.onMousedown=function(a,b,c){var d=this.setup.jQuery,e=this.setup.Context,f=this.setup.Options;if(c===e&&!b.hasClass(f.nonContiguousPlaceholderCellClass))return f.resizeHandleSelector&&d(a.target).closest(f.resizeHandleSelector).length?void(b.hasClass(f.resizeCellClass)||(b.addClass(f.resizeCellClass),this.internal.SetMouseDownData(a,b))):void(f.draggable&&!b.hasClass(f.dragCellClass)&&(this.internal.SetMouseDownData(a,b),b.addClass(f.dragCellClass),this.internal.MoveDraggedCell(a,b)))},a.prototype.onMouseover=function(a,b,c){var d=this,e=(this.setup.jQuery,this.setup.Context,this.setup.Options);if(this.internal.LastMouseOverCellTarget=null,c.options.draggable){var f=this.internal.$GetDraggingCell();f.length&&b.length&&!f.closest(b).length&&(this.internal.LastMouseOverCellTarget=b,h.Utils.Limit(function(){c.options.rearrangeOnDrag&&(d.internal.MoveCell(f,b,c),d.internal.MoveDraggedCell(a,f,!0))},e.dragMouseoverThrottle))}},a.prototype.onTouchmove=function(a){this.onMousemove(h.Utils.ConvertTouchToMouseEvent(a))},a.prototype.onMousemove=function(a){var b=this.setup.jQuery,c=(this.setup.Context,this.setup.Options),d=b(this.setup.ResizeCellSelector);if(d.length){var e=d.data(g.default.DATA_MOUSEDOWN_POSITION_DIFF),f=d.data(g.default.DATA_MOUSEDOWN_SIZE),i=d.data(g.default.DATA_CELL_POSITION_AND_SIZE),j=h.Utils.GetAbsoluteOffsetForElementFromMouseEvent(d,a,e),k=f.width+j.left-i.left,l=f.height+j.top-i.top;d.css("width",k),d.css("height",l),c.resizeOnDrag&&this.internal.ResizeCell(d,k,l)}else{var m=this.internal.$GetDraggingCell();m.length&&(this.internal.MoveDraggedCell(a,m),c.nonContiguousCellHtml&&c.rearrangeOnDrag&&c.autoPadNonContiguousCells&&this.internal.UpdateNonContiguousCellsForDrag(m,a))}},a.prototype.onTouchend=function(a){this.onMouseup(a)},a.prototype.onMouseup=function(a){var b=this.setup.jQuery,c=this.setup.Context,d=this.setup.Options;this.setup.$Element,this.setup.Document;if(d.draggable){var e=b(this.setup.ResizeCellSelector);if(d.resizeHandleSelector&&e.length){if(!d.resizeOnDrag){var f=(e.data(g.default.DATA_MOUSEDOWN_POSITION_DIFF),originalMouseDownCellPosition.w+a.pageX-originalMouseDownPagePosition.x),i=originalMouseDownCellPosition.h+a.pageY-originalMouseDownPagePosition.y;this.internal.ResizeCell(e,f,i)}return e.removeClass(d.resizeCellClass),void h.Utils.ClearMouseDownData(e)}var j=this.internal.$GetDraggingCell();if(j.length>0){if(d.nonContiguousCellHtml&&!d.rearrangeOnDrag&&d.autoPadNonContiguousCells){this.internal.UpdateNonContiguousCellsForDrag(j,a);var k=this.internal.$GetNonDraggedCellFromPoint(j,a);k.length?this.internal.LastMouseOverCellTarget=k:this.internal.LastMouseOverCellTarget=null}j.removeClass(d.dragCellClass),h.Utils.ClearMouseDownData(e);var l=j.data(g.default.DATA_CELL_POSITION_AND_SIZE);c.setCellAbsolutePositionAndSize(j,l),this.internal.LastMouseOverCellTarget&&!d.rearrangeOnDrag&&this.internal.MoveCell(j,this.internal.LastMouseOverCellTarget,c)}}},a}();c.Handlers=i},{"./constants":1,"./utils":7}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./constants"),h=d(g),i=a("./utils"),j=function(){function a(b){e(this,a),this.setup=b,this.document=document,this.cellsArray=[]}return a.prototype.InitOriginalCells=function(){var a=this,b=a.setup.jQuery;a.cellsArray=[],a.setup.$OriginalCells.each(function(c){a.InitCellsHiddenCopyAndSetAbsolutePosition(b(this))})},a.prototype.InitEventHandlers=function(a){var b=this.setup.Window,c=this.setup.Context,d=this.setup.Options,e=function(a){return a+".gridstrap"};this.HandleCellMouseEvent(c,""+e(h.default.EVENT_DRAGSTART),!0,a.onDragstart.bind(a)),this.HandleCellMouseEvent(c,""+e(h.default.EVENT_MOUSEDOWN),!0,a.onMousedown.bind(a)),this.HandleCellMouseEvent(c,""+e(h.default.EVENT_TOUCHSTART),!0,a.onTouchStart.bind(a)),this.HandleCellMouseEvent(c,""+e(h.default.EVENT_MOUSEOVER),!1,a.onMouseover.bind(a)),$(d.mouseMoveSelector).on(""+e(h.default.EVENT_MOUSEMOVE),i.Utils.Debounce(a.onMousemove.bind(a),d.mousemoveDebounce)).on(""+e(h.default.EVENT_TOUCHMOVE),i.Utils.Debounce(a.onTouchmove.bind(a),d.mousemoveDebounce)).on(""+e(h.default.EVENT_MOUSEUP),a.onMouseup.bind(a)).on(""+e(h.default.EVENT_TOUCHEND),a.onTouchend.bind(a)),d.updateCoordinatesOnWindowResize&&$(b).on(""+e(h.default.EVENT_RESIZE),i.Utils.Debounce(c.updateVisibleCellCoordinates,d.windowResizeDebounce))},a.prototype.InitCellsHiddenCopyAndSetAbsolutePosition=function(a){var b=this.setup.jQuery,c=this.setup.Context,d=this.setup.Options;this.ModifyCellsArray(function(b){return b.push(a)}),d.debug&&!a.is(":visible")&&console.log("Grid cell is invisible. Gridstrap should not initialise an invisible grid. ("+this.el.nodeName+"): "+a[0].nodeName+")");var e=d.getHtmlOfSourceCell.call(c,a),f=i.Utils.GetPositionAndSizeOfCell(a);a.before(e);var g=a.prev();g.addClass(d.hiddenCellClass),a.addClass(d.visibleCellClass),a.data(h.default.DATA_HIDDEN_CELL,g),g.data(h.default.DATA_VISIBLE_CELL,a),b(this.setup.VisibleCellContainerSelector).append(a.detach()),c.setCellAbsolutePositionAndSize(a,f)},a.prototype.HandleCellMouseEvent=function(a,b,c,d){var e=a.options.gridCellSelector+" "+a.options.dragCellHandleSelector;a.options.dragCellHandleSelector!==$.Gridstrap.defaultOptions.dragCellHandleSelector&&b!==h.default.EVENT_MOUSEOVER||(e=a.options.gridCellSelector+","+e),$(a.options.visibleCellContainerParentSelector).on(b,e,function(b){var e=a.$getCellOfElement(b.target);c&&!e.length||d(b,e,a)})},a.prototype.SetMouseDownData=function(a,b){var c=(this.setup.Context,this.setup.Options,b.offset()),d=b.outerWidth(),e=b.outerHeight();b.data(h.default.DATA_MOUSEDOWN_POSITION_DIFF,{x:a.pageX-c.left,y:a.pageY-c.top}),b.data(h.default.DATA_MOUSEDOWN_SIZE,{width:d,height:e})},a.prototype.GetNonDraggedElementFromPoint=function(a,b){var c=this.setup.Document,d=(this.setup.jQuery,a.css("pointer-events")),e=a.css("touch-action");a.css("pointer-events","none"),a.css("touch-action","none");var f=c.elementFromPoint(b.clientX,b.clientY);return a.css("pointer-events",d),a.css("touch-action",e),f},a.prototype.MoveDraggedCell=function(a,b,c){var d=this.setup.jQuery,e=this.setup.Context,f=(this.setup.Options,this.setup.Document,this.setup.$Element),g=b.data(h.default.DATA_MOUSEDOWN_POSITION_DIFF),j=i.Utils.GetAbsoluteOffsetForElementFromMouseEvent(b,a,g),k=d.Event(h.default.EVENT_CELL_DRAG,{left:j.left,top:j.top,target:b[0]});if(f.trigger(k),!k.isDefaultPrevented()&&(b.css("left",j.left),b.css("top",j.top),!c)){var l=function(b){b.trigger(d.Event(h.default.EVENT_MOUSEOVER,{pageX:a.pageX,pageY:a.pageY,target:b[0]}))},m=this.GetNonDraggedElementFromPoint(b,a),n=e.$getCellOfElement(m);n.length?l(n):this.AdditionalGridstrapDragTargetSelector&&d(this.AdditionalGridstrapDragTargetSelector).each(function(){var a=d(this).data(h.default.DATA_GRIDSTRAP);if(a){var b=a.$getCellOfElement(m);b.length&&l(b)}})}},a.prototype.GetCellAndInternalIndex=function(a){var b=this.setup.jQuery,c=this.setup.Context;this.setup.Options;if(!a)return null;for(var d=b(a),e=null,f=0;f<this.CellsArray.length&&!e;f++){if(d.closest(this.CellsArray[f]).length>0){this.$GetClosestGridstrap(d).is(c.$el)&&(e={index:f,$cell:this.CellsArray[f]})}}return e},a.prototype.$GetClosestGridstrap=function(a){var b=this.setup.jQuery,c=function(a){return b(a).filter(function(){return!!b(this).data(h.default.DATA_GRIDSTRAP)})},d=c(a);return d.length?d.first():c(b(a).parents()).first()},a.prototype.$GetDraggingCell=function(){var a=this.setup.jQuery,b=this.setup.Context,c=(this.setup.Options,a(this.setup.DragCellSelector));return c.length&&this.$GetClosestGridstrap(c).is(b.$el)?c:a()},a.prototype.MoveCell=function(a,b,c){var d=this.setup.jQuery,e=this.setup.Context,f=this.setup.Options,g=a.data(h.default.DATA_HIDDEN_CELL),j=b.data(h.default.DATA_HIDDEN_CELL);if(!g.is(j))if(c!==e){if(this.AdditionalGridstrapDragTargetSelector){var k=d(this.AdditionalGridstrapDragTargetSelector).filter(function(){return d(this).data(h.default.DATA_GRIDSTRAP)===c}).first();if(k.length){if(f.swapMode){var l=i.Utils.GetPositionAndSizeOfCell(b),m=i.Utils.GetPositionAndSizeOfCell(a),n=c.detachCell(b),o=e.detachCell(a),p=o.hasClass(f.dragCellClass);p&&o.removeClass(f.dragCellClass),i.Utils.SwapJQueryElements(o,n);var q=c.attachCell(o),r=e.attachCell(n);i.Utils.ClearAbsoluteCSS(q),i.Utils.ClearAbsoluteCSS(r),c.setCellAbsolutePositionAndSize(q,m),e.setCellAbsolutePositionAndSize(r,l),c.setCellAbsolutePositionAndSize(q,l),e.setCellAbsolutePositionAndSize(r,m),p&&q.addClass(f.dragCellClass)}else{var m=i.Utils.GetPositionAndSizeOfCell(a),o=e.detachCell(a),p=o.hasClass(f.dragCellClass);p&&o.removeClass(f.dragCellClass),i.Utils.DetachAndInsertInPlaceJQueryElement(o,j);var q=c.attachCell(o);q.removeClass(f.visibleCellClass),c.setCellAbsolutePositionAndSize(q,m),q.addClass(f.visibleCellClass),p&&q.addClass(f.dragCellClass)}c.updateVisibleCellCoordinates(),e.updateVisibleCellCoordinates()}}}else f.swapMode?i.Utils.SwapJQueryElements(g,j):i.Utils.DetachAndInsertInPlaceJQueryElement(g,j),e.updateVisibleCellCoordinates()},a.prototype.ResizeCell=function(a,b,c){var d=this.setup.jQuery,e=this.setup.Context,f=this.setup.$Element,g=d.Event(h.default.EVENT_CELL_RESIZE,{width:b,height:c,target:a[0]});if(f.trigger(g),!g.isDefaultPrevented()){var i=a.data(h.default.DATA_HIDDEN_CELL);i.css("width",b),i.css("height",c),e.updateVisibleCellCoordinates()}},a.prototype.$GetHiddenCellsInElementOrder=function(){var a=this.setup.jQuery,b=(this.setup.Options,this.setup.$Element),c=this;return b.find(this.setup.HiddenCellSelector).filter(function(){var b=a(this).data(h.default.DATA_VISIBLE_CELL);if(!b||!b.length)return!1;for(var d=0;d<c.CellsArray.length;d++)if(c.CellsArray[d].is(b))return!0;return!1})},a.prototype.ModifyCellsArray=function(a){a(this.cellsArray)},a.prototype.UpdateNonContiguousCellsForDrag=function(a,b){var c=this.setup.jQuery,d=this.setup.Options,e=i.Utils.GetPositionAndSizeOfCell(a),f=function(a){return a.left+a.width+1e5*(a.top+a.height)};this.$GetHiddenCellsInElementOrder().each(function(a,b){if(!c(b).data(h.default.DATA_VISIBLE_CELL).hasClass(d.nonContiguousPlaceholderCellClass)){var g=i.Utils.GetPositionAndSizeOfCell(c(b));f(g)>f(e)&&(e=g)}}),this.AppendOrRemoveNonContiguousCellsWhile(function(a,b){var c=i.Utils.GetPositionAndSizeOfCell(a.last());return b?c.top-e.top<2*e.height:c.top-e.top>2*e.height})&&this.MoveDraggedCell(b,a)},a.prototype.AppendOrRemoveNonContiguousCellsWhile=function(a){for(var b=this.setup.jQuery,c=this.setup.Options,d=this.setup.Context,e=!1,f=this.$GetHiddenCellsInElementOrder();a(f,!0);){var g=d.insertCell(c.nonContiguousCellHtml,f.length);g.addClass(c.nonContiguousPlaceholderCellClass);var j=g.data(h.default.DATA_HIDDEN_CELL);f=f.add(j),e=!0}for(var k=f.last(),l=null,m=function(){return l=l||f.filter(function(a,c){return i.Utils.GetPositionAndSizeOfCell(b(c)).top===i.Utils.GetPositionAndSizeOfCell(k).top})};a(f,!1)&&m().filter(function(a,d){return b(d).data(h.default.DATA_VISIBLE_CELL).hasClass(c.nonContiguousPlaceholderCellClass)}).length===m().length&&m().length>0;)d.removeCell(k.data(h.default.DATA_VISIBLE_CELL)),f=f.not(k),k=f.last(),l=null,e=!0;return e},f(a,[{key:"AdditionalGridstrapDragTargetSelector",get:function(){return this.additionalGridstrapDragTargetSelector},set:function(a){this.additionalGridstrapDragTargetSelector=a}},{key:"LastMouseOverCellTarget",get:function(){return this.lastMouseOverCellTarget},set:function(a){this.lastMouseOverCellTarget=a}},{key:"CellsArray",get:function(){return this.cellsArray}}]),a}();c.Internal=j},{"./constants":1,"./utils":7}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("./constants"),g=d(f),h=a("./utils"),i=function(){function a(b,c,d){e(this,a),this.setup=b,this.internal=c,this.handlers=d}return a.prototype.$getCellOfElement=function(a){var b=this.setup.jQuery,c=(this.setup.Context,this.setup.Options,this.internal.GetCellAndInternalIndex(a));return c?c.$cell:b()},a.prototype.setCellAbsolutePositionAndSize=function(a,b){var c=this.setup.jQuery,d=(this.setup.Context,this.setup.Options,this.setup.$Element),e=c.Event(g.default.EVENT_CELL_REDRAW,{left:b.left,top:b.top,width:b.width,height:b.height,target:a[0]});d.trigger(e),e.isDefaultPrevented()||(a.data(g.default.DATA_CELL_POSITION_AND_SIZE,b),a.css("left",b.left),a.css("top",b.top),a.css("width",b.width),a.css("height",b.height))},a.prototype.updateVisibleCellCoordinates=function(){for(var a=this.setup.jQuery,b=(this.setup.Context,this.setup.Options,this.internal.$GetDraggingCell(),0);b<this.internal.CellsArray.length;b++){var c=this.internal.CellsArray[b],d=c.data(g.default.DATA_HIDDEN_CELL),e=h.Utils.GetPositionAndSizeOfCell(d);this.setCellAbsolutePositionAndSize(c,e)}for(var b=0;b<this.internal.CellsArray.length;b++){this.internal.CellsArray[b].find("*").filter(function(){return!!a(this).data(g.default.DATA_GRIDSTRAP)}).each(function(){a(this).data(g.default.DATA_GRIDSTRAP).updateVisibleCellCoordinates()})}},a.prototype.insertCell=function(a,b){var c=this.setup.jQuery,d=this.setup.Options,e=this.setup.$Element,f=this.internal.$GetHiddenCellsInElementOrder();void 0===b&&(b=f.length),b>f.length&&d.nonContiguousCellHtml&&d.autoPadNonContiguousCells&&(this.internal.AppendOrRemoveNonContiguousCellsWhile(function(a,c){return!!c&&a.length<b}),f=this.internal.$GetHiddenCellsInElementOrder());var g;return g=b===f.length?0===f.length?c(a).appendTo(e):c(a).insertAfter(f.last()):c(a).insertBefore(f.eq(b)),this.attachCell(g),g},a.prototype.attachCell=function(a){var b=this.setup.jQuery,c=(this.setup.Options,this.setup.$Element);if(!b(a).closest(c).is(c))throw new Error(g.default.ERROR_INVALID_ATTACH_ELEMENT);return this.internal.InitCellsHiddenCopyAndSetAbsolutePosition(a),this.updateVisibleCellCoordinates(),b(a)},a.prototype.detachCell=function(a){var b=this.setup.Options,c=this.internal.GetCellAndInternalIndex(a),d=c.$cell.data(g.default.DATA_HIDDEN_CELL),e=c.$cell.detach();h.Utils.ClearAbsoluteCSS(e),e.removeData(g.default.DATA_HIDDEN_CELL),e.removeClass(b.visibleCellClass);var f=e.insertAfter(d);return d.remove(),this.internal.ModifyCellsArray(function(a){return a.splice(c.index,1)}),this.updateVisibleCellCoordinates(),f},a.prototype.removeCell=function(a){this.detachCell(a).remove(),this.updateVisibleCellCoordinates()},a.prototype.moveCell=function(a,b,c){var d=this.setup.Options,e=this.setup.Context,f=this.$getCells();b>f.length&&d.nonContiguousCellHtml&&d.autoPadNonContiguousCells&&(this.internal.AppendOrRemoveNonContiguousCellsWhile(function(a,c){return!!c&&a.length<=b}),f=this.$getCells());var g=this.internal.GetCellAndInternalIndex(a);this.internal.MoveCell(g.$cell,f.eq(b),c||e)},a.prototype.$getCellFromCoordinates=function(a,b){var c=this.setup.Document,d=this.setup.jQuery,e=c.elementFromPoint(a,b),f=this.internal.GetCellAndInternalIndex(e);return f?f.$cell:d()},a.prototype.getCellIndexFromCoordinates=function(a,b){var c=this.setup.Document,d=(this.setup.jQuery,c.elementFromPoint(a,b)),e=this.internal.GetCellAndInternalIndex(d);return e?this.$getCells().index(e.$cell):-1},a.prototype.$getCells=function(){var a=this.setup.jQuery,b=this.internal.$GetHiddenCellsInElementOrder(),c=b.map(function(){return a(this).data(g.default.DATA_VISIBLE_CELL)[0]});return a(c)},a.prototype.$getHiddenCells=function(){return this.internal.$GetHiddenCellsInElementOrder()},a.prototype.$getCellContainer=function(){return(0,this.setup.jQuery)(this.setup.VisibleCellContainerSelector)},a.prototype.updateOptions=function(a){var b=this.setup.jQuery,c=this.setup.Options;this.setup.Options=b.extend({},c,a)},a.prototype.getCellIndexOfElement=function(a){var b=this.$getCellOfElement(a);return this.$getCells().index(b)},a.prototype.setAdditionalGridstrapDragTarget=function(a){var b=this.setup.jQuery,c=this.handlers,d=this,e=g.default.EVENT_MOUSEOVER+".gridstrap-additional-"+this.setup.IdPrefix;d.internal.AdditionalGridstrapDragTargetSelector&&b(d.internal.AdditionalGridstrapDragTargetSelector).each(function(){b(b(this).data(g.default.DATA_GRIDSTRAP).options.visibleCellContainerParentSelector).off(e)}),d.internal.AdditionalGridstrapDragTargetSelector=a,d.internal.AdditionalGridstrapDragTargetSelector&&b(d.internal.AdditionalGridstrapDragTargetSelector).each(function(){d.internal.HandleCellMouseEvent(b(this).data(g.default.DATA_GRIDSTRAP),e,!1,c.onMouseover.bind(c))})},a.prototype.modifyCell=function(a,b){var c=this.setup.Context,d=this.$getCells().eq(a),e=d.data(g.default.DATA_HIDDEN_CELL),f=!1,h=!1;b.call(c,function(){return f=!0,d},function(){return h=!0,e}),f&&e.html(d.html()),this.updateVisibleCellCoordinates()},a.prototype.padWithNonContiguousCells=function(a){var b=this.setup.jQuery,c=this.setup.Options;if(!c.nonContiguousCellHtml)throw new Error(g.default.ERROR_NONCONTIGUOUS_HTML_UNDEFINED);this.internal.$GetHiddenCellsInElementOrder();this.internal.AppendOrRemoveNonContiguousCellsWhile(function(d,e){if(!e)return!1;var f=d.length,h=d.filter(function(a,d){return b(d).data(g.default.DATA_VISIBLE_CELL).hasClass(c.nonContiguousPlaceholderCellClass)}).length;return a(f,h)})},a}();c.Methods=i},{"./constants":1,"./utils":7}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./utils"),g=function(){function a(b,c,e,g,h){d(this,a);var i=h.options;this.$originalCells=g.find(i.gridCellSelector),this.idPrefix=f.Utils.GenerateRandomId();var j="gridstrap-"+this.idPrefix;this.visibleCellContainerSelector="#"+j,this.dragCellSelector=this.visibleCellContainerSelector+" "+f.Utils.ConvertCssClassToJQuerySelector(i.dragCellClass)+":first",this.resizeCellSelector=this.visibleCellContainerSelector+" "+f.Utils.ConvertCssClassToJQuerySelector(i.resizeCellClass)+":first",this.visibleCellContainerClassSelector=f.Utils.ConvertCssClassToJQuerySelector(i.visibleCellContainerClass)+":first",this.hiddenCellSelector=f.Utils.ConvertCssClassToJQuerySelector(i.hiddenCellClass),i.visibleCellContainerParentSelector=i.visibleCellContainerParentSelector||g,b(i.visibleCellContainerParentSelector).append('<div id="'+j+'" class="'+i.visibleCellContainerClass+'"></div>'),this.window=c,this.document=e,this.$=b,this.$el=g,this.context=h}return e(a,[{key:"Window",get:function(){return this.window}},{key:"Document",get:function(){return this.document}},{key:"jQuery",get:function(){return this.$}},{key:"Options",get:function(){return this.context.options},set:function(a){this.context.options=a}},{key:"$Element",get:function(){return this.$el}},{key:"Context",get:function(){return this.context}},{key:"$OriginalCells",get:function(){return this.$originalCells}},{key:"IdPrefix",get:function(){return this.idPrefix}},{key:"VisibleCellContainerSelector",get:function(){return this.visibleCellContainerSelector}},{key:"DragCellSelector",get:function(){return this.dragCellSelector}},{key:"ResizeCellSelector",get:function(){return this.resizeCellSelector}},{key:"VisibleCellContainerClassSelector",get:function(){return this.visibleCellContainerClassSelector}},{key:"HiddenCellSelector",get:function(){return this.hiddenCellSelector}}]),a}();c.Setup=g},{"./utils":7}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("./constants"),g=d(f),h=function(){function a(){e(this,a)}return a.GenerateRandomId=function(){return Math.random().toString(36).substr(2,5)+Math.round(1e3*Math.random()).toString()},a.ConvertCssClassToJQuerySelector=function(a){return a.replace(/(^ *| +)/g,".")},a.Debounce=function(a,b,c,d){return void 0===d&&(d=null),function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;return 500==b&&console.log("callNow: "+h),clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f),d}},a.Limit=function(b,c){var d=new Date,e=d.getTime();e-(a.limit||0)>c&&(b(),a.limit=e)},a.SwapJQueryElements=function(a,b){var c=function(c){var d=a.is(c)?b:a,e=c.next(),f=c.prev(),g=c.parent();return e.length>0&&!e.is(d)?function(a){e.before(a)}:f.length>0&&!f.is(d)?function(a){f.after(a)}:e.length>0&&e.is(d)?function(a){g.prepend(a)}:function(a){g.append(a)}},d=c(a),e=c(b),f=a.detach(),g=b.detach();e(f),d(g)},a.DetachAndInsertInPlaceJQueryElement=function(a,b){var c=b.index(),d=a.index(),e=a.detach();c<d?b.before(e):b.after(e)},a.ClearAbsoluteCSS=function(a){a.css("top",""),a.css("left",""),a.css("width",""),a.css("height","")},a.ClearMouseDownData=function(a){a.removeData(g.default.DATA_MOUSEDOWN_POSITION_DIFF),a.removeData(g.default.DATA_MOUSEDOWN_SIZE)},a.GetAbsoluteOffsetForElementFromMouseEvent=function(a,b,c){var d=a.parent(),e=d.offset(),f=d.position(),g=e.left-f.left,h=e.top-f.top;return{left:b.pageX-g-c.x,top:b.pageY-h-c.y}},a.GetPositionAndSizeOfCell=function(a){var b=a.position(),c=a.outerWidth(),d=a.outerHeight();return{left:b.left,top:b.top,width:c,height:d}},a.ConvertTouchToMouseEvent=function(a){for(var b=null,c=0;!b&&c<a.changedTouches.length;c++)0===a.changedTouches[c].identifier&&(b=a.changedTouches[c]);return a.pageX=b.pageX,a.pageY=b.pageY,a.clientX=b.clientX,a.clientY=b.clientY,a},a}();c.Utils=h},{"./constants":1}]},{},[2]);
//# sourceMappingURL=jquery.gridstrap.min.js.map